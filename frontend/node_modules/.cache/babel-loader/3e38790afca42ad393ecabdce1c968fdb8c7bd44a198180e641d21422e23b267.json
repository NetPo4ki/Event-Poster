{"ast":null,"code":"import axios from 'axios';\nconst API_URL = 'http://localhost:8090/api';\n\n// Configure axios to send credentials with requests\naxios.defaults.withCredentials = true;\n\n// Event API calls\nexport const getEvents = async () => {\n  try {\n    const response = await axios.get(`${API_URL}/events`);\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching events:', error);\n    throw error;\n  }\n};\nexport const getEvent = async id => {\n  try {\n    const response = await axios.get(`${API_URL}/events/${id}`);\n    return response.data;\n  } catch (error) {\n    console.error(`Error fetching event ${id}:`, error);\n    throw error;\n  }\n};\nexport const createEvent = async event => {\n  try {\n    const response = await axios.post(`${API_URL}/events`, event);\n    return response.data.id;\n  } catch (error) {\n    console.error('Error creating event:', error);\n    throw error;\n  }\n};\nexport const updateEvent = async (id, event) => {\n  try {\n    await axios.put(`${API_URL}/events/${id}`, event);\n  } catch (error) {\n    console.error(`Error updating event ${id}:`, error);\n    throw error;\n  }\n};\nexport const deleteEvent = async id => {\n  try {\n    await axios.delete(`${API_URL}/events/${id}`);\n  } catch (error) {\n    console.error(`Error deleting event ${id}:`, error);\n    throw error;\n  }\n};\n\n// Registration API calls\nexport const getRegistrations = async eventId => {\n  try {\n    const url = eventId ? `${API_URL}/registrations?event_id=${eventId}` : `${API_URL}/registrations`;\n    const response = await axios.get(url);\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching registrations:', error);\n    throw error;\n  }\n};\nexport const getRegistration = async id => {\n  try {\n    const response = await axios.get(`${API_URL}/registrations/${id}`);\n    return response.data;\n  } catch (error) {\n    console.error(`Error fetching registration ${id}:`, error);\n    throw error;\n  }\n};\nexport const createRegistration = async registration => {\n  try {\n    const response = await axios.post(`${API_URL}/registrations`, registration);\n    return response.data.id;\n  } catch (error) {\n    var _error$response, _error$response$data;\n    // Extract message from error response if available\n    const errorMessage = ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || 'Failed to register for event';\n    console.error('Error creating registration:', error);\n    throw new Error(errorMessage);\n  }\n};\nexport const updateRegistration = async (id, registration) => {\n  try {\n    await axios.put(`${API_URL}/registrations/${id}`, registration);\n  } catch (error) {\n    console.error(`Error updating registration ${id}:`, error);\n    throw error;\n  }\n};\nexport const deleteRegistration = async id => {\n  try {\n    await axios.delete(`${API_URL}/registrations/${id}`);\n  } catch (error) {\n    console.error(`Error deleting registration ${id}:`, error);\n    throw error;\n  }\n};","map":{"version":3,"names":["axios","API_URL","defaults","withCredentials","getEvents","response","get","data","error","console","getEvent","id","createEvent","event","post","updateEvent","put","deleteEvent","delete","getRegistrations","eventId","url","getRegistration","createRegistration","registration","_error$response","_error$response$data","errorMessage","Error","updateRegistration","deleteRegistration"],"sources":["/Users/netpo4ki/EventPoster/frontend/src/services/api.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_URL = 'http://localhost:8090/api';\n\n// Configure axios to send credentials with requests\naxios.defaults.withCredentials = true;\n\n// Event API calls\nexport const getEvents = async () => {\n  try {\n    const response = await axios.get(`${API_URL}/events`);\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching events:', error);\n    throw error;\n  }\n};\n\nexport const getEvent = async (id) => {\n  try {\n    const response = await axios.get(`${API_URL}/events/${id}`);\n    return response.data;\n  } catch (error) {\n    console.error(`Error fetching event ${id}:`, error);\n    throw error;\n  }\n};\n\nexport const createEvent = async (event) => {\n  try {\n    const response = await axios.post(`${API_URL}/events`, event);\n    return response.data.id;\n  } catch (error) {\n    console.error('Error creating event:', error);\n    throw error;\n  }\n};\n\nexport const updateEvent = async (id, event) => {\n  try {\n    await axios.put(`${API_URL}/events/${id}`, event);\n  } catch (error) {\n    console.error(`Error updating event ${id}:`, error);\n    throw error;\n  }\n};\n\nexport const deleteEvent = async (id) => {\n  try {\n    await axios.delete(`${API_URL}/events/${id}`);\n  } catch (error) {\n    console.error(`Error deleting event ${id}:`, error);\n    throw error;\n  }\n};\n\n// Registration API calls\nexport const getRegistrations = async (eventId) => {\n  try {\n    const url = eventId \n      ? `${API_URL}/registrations?event_id=${eventId}` \n      : `${API_URL}/registrations`;\n    const response = await axios.get(url);\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching registrations:', error);\n    throw error;\n  }\n};\n\nexport const getRegistration = async (id) => {\n  try {\n    const response = await axios.get(`${API_URL}/registrations/${id}`);\n    return response.data;\n  } catch (error) {\n    console.error(`Error fetching registration ${id}:`, error);\n    throw error;\n  }\n};\n\nexport const createRegistration = async (registration) => {\n  try {\n    const response = await axios.post(`${API_URL}/registrations`, registration);\n    return response.data.id;\n  } catch (error) {\n    // Extract message from error response if available\n    const errorMessage = error.response?.data?.error || 'Failed to register for event';\n    console.error('Error creating registration:', error);\n    throw new Error(errorMessage);\n  }\n};\n\nexport const updateRegistration = async (id, registration) => {\n  try {\n    await axios.put(`${API_URL}/registrations/${id}`, registration);\n  } catch (error) {\n    console.error(`Error updating registration ${id}:`, error);\n    throw error;\n  }\n};\n\nexport const deleteRegistration = async (id) => {\n  try {\n    await axios.delete(`${API_URL}/registrations/${id}`);\n  } catch (error) {\n    console.error(`Error deleting registration ${id}:`, error);\n    throw error;\n  }\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}